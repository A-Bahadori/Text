using System;
using System.Collections.Generic;
using System.Drawing;
using System.Windows.Forms;

namespace EmojiSelectorApp
{
    public partial class MainForm : Form
    {
        private TextBox txtMessage;
        private Button btnEmoji;
        private Panel emojiPanel;
        private List<string> emojis;

        public MainForm()
        {
            InitializeComponent();
            InitializeEmojiList();
            SetupControls();
        }

        private void InitializeEmojiList()
        {
            // Ù„ÛŒØ³ØªÛŒ Ø§Ø² Ø§Ù…ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ú©Ø§Ø±Ø¨Ø±Ø¯
            emojis = new List<string>()
            {
                "ğŸ˜€", "ğŸ˜", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜…", "ğŸ˜†",
                "ğŸ˜‰", "ğŸ˜Š", "ğŸ˜‹", "ğŸ˜", "ğŸ˜", "ğŸ˜˜", "ğŸ¥°", "ğŸ˜—",
                "ğŸ˜™", "ğŸ˜š", "ğŸ™‚", "ğŸ¤—", "ğŸ¤©", "ğŸ¤”", "ğŸ¤¨", "ğŸ˜",
                "ğŸ˜‘", "ğŸ˜¶", "ğŸ™„", "ğŸ˜", "ğŸ˜£", "ğŸ˜¥", "ğŸ˜®", "ğŸ¤",
                "ğŸ˜¯", "ğŸ˜ª", "ğŸ˜«", "ğŸ¥±", "ğŸ˜´", "ğŸ˜Œ", "ğŸ˜›", "ğŸ˜œ",
                "ğŸ˜", "ğŸ¤¤", "ğŸ˜’", "ğŸ˜“", "ğŸ˜”", "ğŸ˜•", "ğŸ™ƒ", "ğŸ¤‘",
                "ğŸ˜²", "â˜¹ï¸", "ğŸ™", "ğŸ˜–", "ğŸ˜", "ğŸ˜Ÿ", "ğŸ˜¤", "ğŸ˜¢",
                "ğŸ˜­", "ğŸ˜¦", "ğŸ˜§", "ğŸ˜¨", "ğŸ˜©", "ğŸ¤¯", "ğŸ˜¬", "ğŸ˜°"
            };
        }

        private void SetupControls()
        {
            // ØªÙ†Ø¸ÛŒÙ… ÙØ±Ù… Ø§ØµÙ„ÛŒ
            this.Text = "Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù† Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨Ú¯Ø± Ø§Ù…ÙˆØ¬ÛŒ";
            this.Size = new Size(500, 400);
            this.StartPosition = FormStartPosition.CenterScreen;
            
            // Ø§ÛŒØ¬Ø§Ø¯ TextBox Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ØªÙ† Ù¾ÛŒØ§Ù…
            txtMessage = new TextBox
            {
                Multiline = true,
                Location = new Point(10, 10),
                Size = new Size(400, 100),
                Font = new Font("Segoe UI", 12),
                RightToLeft = RightToLeft.Yes // Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ
            };
            this.Controls.Add(txtMessage);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ù„ Ø§Ù…ÙˆØ¬ÛŒ
            btnEmoji = new Button
            {
                Text = "ğŸ˜Š",
                Location = new Point(420, 10),
                Size = new Size(50, 50),
                Font = new Font("Segoe UI", 16)
            };
            btnEmoji.Click += BtnEmoji_Click;
            this.Controls.Add(btnEmoji);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø§Ù…ÙˆØ¬ÛŒâ€ŒÙ‡Ø§
            emojiPanel = new Panel
            {
                Location = new Point(10, 120),
                Size = new Size(460, 200),
                BorderStyle = BorderStyle.FixedSingle,
                Visible = false,
                AutoScroll = true
            };
            this.Controls.Add(emojiPanel);
            
            // Ù¾Ø± Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ Ø¨Ø§ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù…ÙˆØ¬ÛŒ
            CreateEmojiButtons();
        }

        private void CreateEmojiButtons()
        {
            int buttonSize = 40;
            int buttonsPerRow = 10;
            int xPos = 5;
            int yPos = 5;
            int index = 0;
            
            foreach (string emoji in emojis)
            {
                Button btnEmoji = new Button
                {
                    Text = emoji,
                    Size = new Size(buttonSize, buttonSize),
                    Location = new Point(xPos, yPos),
                    Font = new Font("Segoe UI", 12),
                    FlatStyle = FlatStyle.Flat
                };
                
                btnEmoji.Click += EmojiButton_Click;
                emojiPanel.Controls.Add(btnEmoji);
                
                index++;
                if (index % buttonsPerRow == 0)
                {
                    xPos = 5;
                    yPos += buttonSize + 5;
                }
                else
                {
                    xPos += buttonSize + 5;
                }
            }
        }

        private void BtnEmoji_Click(object sender, EventArgs e)
        {
            // Ù†Ù…Ø§ÛŒØ´ ÛŒØ§ Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ Ø§Ù…ÙˆØ¬ÛŒ
            emojiPanel.Visible = !emojiPanel.Visible;
        }

        private void EmojiButton_Click(object sender, EventArgs e)
        {
            Button btnClicked = sender as Button;
            string selectedEmoji = btnClicked.Text;
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù…ÙˆØ¬ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ú©Ø±Ø³Ø±
            int cursorPosition = txtMessage.SelectionStart;
            txtMessage.Text = txtMessage.Text.Insert(cursorPosition, selectedEmoji);
            txtMessage.SelectionStart = cursorPosition + selectedEmoji.Length;
            
            // ØªÙ…Ø±Ú©Ø² Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø±ÙˆÛŒ TextBox
            txtMessage.Focus();
        }

        [STAThread]
        static void Main()
        {
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            Application.Run(new MainForm());
        }
    }
}
