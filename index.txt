<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.applicationHost>
    <!-- تعریف Application Pool با نسخه‌ی CLR 4 و Pipeline یکپارچه -->
    <applicationPools>
      <add name="Clr4IntegratedAppPool" managedRuntimeVersion="v4.0" managedPipelineMode="Integrated" />
    </applicationPools>

    <!-- تعریف سایت مربوط به پروژه -->
    <sites>
      <site name="MyCSharpProject" id="1">
        <application path="/" applicationPool="Clr4IntegratedAppPool">
          <!-- مسیر فیزیکی پروژه را بر اساس موقعیت واقعی تنظیم کنید -->
          <virtualDirectory path="/" physicalPath="C:\Path\To\MyCSharpProject" />
        </application>
        <bindings>
          <!-- در اینجا پورت و نام میزبان (host) را مطابق نیاز تغییر دهید -->
          <binding protocol="http" bindingInformation="*:8080:localhost" />
        </bindings>
      </site>
    </sites>
  </system.applicationHost>
</configuration>





<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.applicationHost>
    <sites>
      <site name="MyWebApp" id="1">
        <application path="/" applicationPool="Clr4IntegratedAppPool">
          <virtualDirectory path="/" physicalPath="C:\Path\To\Your\WebApp" />
        </application>
        <bindings>
          <binding protocol="http" bindingInformation="*:5000:localhost" />
        </bindings>
      </site>
      <siteDefaults>
        <logFile logFormat="W3C" directory="%IIS_USER_HOME%\Logs" />
        <traceFailedRequestsLogging directory="%IIS_USER_HOME%\TraceLogFiles" enabled="true" maxLogFileSizeKB="1024" />
      </siteDefaults>
      <applicationDefaults applicationPool="Clr4IntegratedAppPool" />
      <virtualDirectoryDefaults allowSubDirConfig="true" />
    </sites>

    <applicationPools>
      <add name="Clr4IntegratedAppPool" managedRuntimeVersion="v4.0" managedPipelineMode="Integrated" />
      <applicationPoolDefaults managedRuntimeVersion="v4.0">
        <processModel identityType="ApplicationPoolIdentity" />
      </applicationPoolDefaults>
    </applicationPools>
  </system.applicationHost>

  <system.webServer>
    <aspNetCore processPath="dotnet" arguments=".\MyWebApp.dll" stdoutLogEnabled="false" stdoutLogFile=".\logs\stdout" hostingModel="InProcess" />
  </system.webServer>
</configuration>








<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <configSections>
    <sectionGroup name="system.applicationHost">
      <section name="applicationPools" type="System.ApplicationHost.Configuration.ApplicationPoolsSection" requirePermission="false" />
      <section name="sites" type="System.ApplicationHost.Configuration.SitesSection" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <system.applicationHost>
    <applicationPools>
      <add name="Clr4IntegratedAppPool" managedRuntimeVersion="v4.0" managedPipelineMode="Integrated" />
      <add name="Clr4ClassicAppPool" managedRuntimeVersion="v4.0" managedPipelineMode="Classic" />
    </applicationPools>

    <sites>
      <site name="WebSite" id="1">
        <application path="/" applicationPool="Clr4IntegratedAppPool">
          <virtualDirectory path="/" physicalPath="%IIS_SITES_HOME%\WebSite" />
        </application>
        <bindings>
          <binding protocol="http" bindingInformation="*:8080:localhost" />
          <binding protocol="https" bindingInformation="*:44300:localhost" />
        </bindings>
      </site>
      <siteDefaults>
        <logFile directory="%IIS_USER_HOME%\Logs" />
        <traceFailedRequestsLogging directory="%IIS_USER_HOME%\TraceLogFiles" />
      </siteDefaults>
      <applicationDefaults applicationPool="Clr4IntegratedAppPool" />
      <virtualDirectoryDefaults allowSubDirConfig="true" />
    </sites>
  </system.applicationHost>

  <system.webServer>
    <modules>
      <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web.Routing, Version=4.0.0.0" />
    </modules>
    <handlers>
      <add name="UrlRoutingHandler" path="UrlRouting.axd" verb="*" type="System.Web.HttpForbiddenHandler" />
    </handlers>
  </system.webServer>
</configuration>








<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <handlers>
            <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
        </handlers>
        <aspNetCore processPath="%LAUNCHER_PATH%" arguments="%LAUNCHER_ARGS%" stdoutLogEnabled="false" hostingModel="InProcess">
            <environmentVariables>
                <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
            </environmentVariables>
        </aspNetCore>
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="30000000" />
            </requestFiltering>
        </security>
    </system.webServer>
</configuration>








  <location path="" overrideMode="Allow">
    <system.webServer>
      <modules runAllManagedModulesForAllRequests="true" />
    </system.webServer>
  </location>


iisexpress.exe /config:"C:\Path\To\applicationhost.config" /trace:error



<system.webServer>
    <modules>
      <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web.Routing" />
      <!-- ضروری برای سرویسدهی فایلهای استاتیک -->
      <add name="StaticFileModule" lockItem="true" />
    </modules>
    <handlers>
      <add name="StaticFile" path="*" verb="*" modules="StaticFileModule" resourceType="File" />
    </handlers>
  </system.webServer>


 <system.webServer>
        <handlers>
            <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
        </handlers>
        <aspNetCore processPath="%LAUNCHER_PATH%" arguments="%LAUNCHER_ARGS%" stdoutLogEnabled="false" hostingModel="InProcess">
            <environmentVariables>
                <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
            </environmentVariables>
        </aspNetCore>
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="30000000" />
            </requestFiltering>
        </security>
    </system.webServer>


  <configSections>
    <sectionGroup name="system.applicationHost">
      <section name="applicationPools" type="Microsoft.Web.Administration.ApplicationPoolSection, Microsoft.Web.Administration, Version=10.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" allowDefinition="AppHostOnly" allowLocation="true" />
      <section name="sites" type="Microsoft.Web.Administration.SitesSection, Microsoft.Web.Administration, Version=10.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" allowDefinition="AppHostOnly" allowLocation="true" />
    </sectionGroup>
    <sectionGroup name="system.webServer">
      <section name="handlers" overrideModeDefault="Allow" />
      <section name="modules" allowDefinition="MachineToApplication" overrideModeDefault="Allow" />
    </sectionGroup>
  </configSections>

<system.webServer>
    <modules>
      <add name="UrlAuthorizationModule" type="System.Web.Security.UrlAuthorizationModule" preCondition="managedHandler" />
      <add name="AnonymousAuthenticationModule" type="Microsoft.Web.Administration.AnonymousAuthenticationModule" preCondition="integratedMode" />
      <add name="WindowsAuthenticationModule" type="Microsoft.Web.Administration.WindowsAuthenticationModule" preCondition="integratedMode" />
    </modules>
    <handlers>
      <add name="StaticFile" path="*" verb="*" modules="StaticFileModule" resourceType="Either" requireAccess="Read" />
    </handlers>
    <security>
      <authentication>
        <anonymousAuthentication enabled="true" />
        <windowsAuthentication enabled="false" />
      </authentication>
    </security>
    <staticContent>
      <mimeMap fileExtension=".json" mimeType="application/json" />
      <mimeMap fileExtension=".svg" mimeType="image/svg+xml" />
    </staticContent>
    <directoryBrowse enabled="false" />
    <defaultDocument>
      <files>
        <add value="index.html" />
        <add value="Default.htm" />
        <add value="Default.asp" />
        <add value="index.htm" />
        <add value="Default.aspx" />
      </files>
    </defaultDocument>
  </system.webServer>

  <location path="" overrideMode="Allow">
    <system.webServer>
      <modules>
        <add name="ManagedPipelineHandler" preCondition="integratedMode" />
      </modules>
    </system.webServer>
  </location>



<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <handlers>
            <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
        </handlers>
        <aspNetCore processPath="%LAUNCHER_PATH%" arguments="%LAUNCHER_ARGS%" stdoutLogEnabled="false" hostingModel="InProcess" />
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="30000000" />
                <verbs allowUnlisted="false">
                    <add verb="GET" allowed="true" />
                    <add verb="POST" allowed="true" />
                    <add verb="PUT" allowed="true" />
                    <add verb="DELETE" allowed="true" />
                </verbs>
            </requestFiltering>
        </security>
        <httpProtocol>
            <customHeaders>
                <remove name="X-Powered-By" />
            </customHeaders>
        </httpProtocol>
        <staticContent>
            <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="1.00:00:00" />
        </staticContent>
    </system.webServer>

    <location path="." inheritInChildApplications="false">
        <system.webServer>
            <modules>
                <remove name="WebDAVModule" />
            </modules>
            <validation validateIntegratedModeConfiguration="false" />
            <httpCompression>
                <dynamicTypes>
                    <add mimeType="application/json" enabled="true" />
                    <add mimeType="text/*" enabled="true" />
                </dynamicTypes>
                <staticTypes>
                    <add mimeType="text/*" enabled="true" />
                    <add mimeType="application/javascript" enabled="true" />
                    <add mimeType="application/json" enabled="true" />
                </staticTypes>
            </httpCompression>
        </system.webServer>
    </location>
</configuration>




 <system.webServer>
        <validation validateIntegratedModeConfiguration="false" />
        <modules runAllManagedModulesForAllRequests="true">
            <remove name="WebDAVModule" />
        </modules>
        <handlers>
            <remove name="WebDAV" />
            <add name="aspnet_isapi" path="*.aspx" verb="GET,HEAD,POST,DEBUG" modules="IsapiModule" 
                 scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" />
        </handlers>
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="30000000" />
                <verbs allowUnlisted="false">
                    <add verb="GET" allowed="true" />
                    <add verb="POST" allowed="true" />
                    <add verb="HEAD" allowed="true" />
                </verbs>
            </requestFiltering>
        </security>
        <httpProtocol>
            <customHeaders>
                <remove name="X-Powered-By" />
            </customHeaders>
        </httpProtocol>
        <staticContent>
            <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="1.00:00:00" />
        </staticContent>
    </system.webServer>

    <location path="." inheritInChildApplications="false">
        <system.webServer>
            <defaultDocument>
                <files>
                    <add value="default.aspx" />
                </files>
            </defaultDocument>
            <httpCompression>
                <dynamicTypes>
                    <add mimeType="text/*" enabled="true" />
                    <add mimeType="application/x-javascript" enabled="true" />
                </dynamicTypes>
                <staticTypes>
                    <add mimeType="text/*" enabled="true" />
                    <add mimeType="application/javascript" enabled="true" />
                </staticTypes>
            </httpCompression>
        </system.webServer>
    </location>





<sectionGroup name="system.webServer">
    <section name="aspNetCore" overrideModeDefault="Allow" />
    <section name="handlers" overrideModeDefault="Allow" />
    <section name="rewrite" overrideModeDefault="Allow" />
    <section name="security" overrideModeDefault="Allow" />
    <section name="staticContent" overrideModeDefault="Allow" />
    <section name="httpErrors" overrideModeDefault="Allow" />
  </sectionGroup>


<system.webServer>
    <!-- ماژولها (مانند احراز هویت) -->
    <modules>
        <add name="AnonymousAuthenticationModule" 
             type="Microsoft.Web.Administration.AnonymousAuthenticationModule" 
             preCondition="integratedMode" />
    </modules>

    <!-- هندلرها (برای پردازش درخواستها) -->
    <handlers>
        <add name="StaticFile" 
             path="*" verb="*" 
             modules="StaticFileModule" 
             resourceType="Either" 
             requireAccess="Read" />
    </handlers>

    <!-- تنظیمات امنیتی -->
    <security>
        <authentication>
            <anonymousAuthentication enabled="true" />
        </authentication>
    </security>

    <!-- MIME Types -->
    <staticContent>
        <mimeMap fileExtension=".json" mimeType="application/json" />
    </staticContent>

    <!-- فایلهای پیشفرض -->
    <defaultDocument>
        <files>
            <add value="index.html" />
            <add value="Default.aspx" />
        </files>
    </defaultDocument>
</system.webServer>
